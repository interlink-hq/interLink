"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[334],{6281:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>h,toc:()=>d});var i=t(5893),r=t(1151),s=t(9965),o=t(4996);const l={sidebar_position:1},a="Deploy interLink virtual nodes",h={id:"guides/deploy-interlink",title:"Deploy interLink virtual nodes",description:"Learn how to deploy interLink virtual nodes on your cluster. In this tutorial",source:"@site/docs/guides/01-deploy-interlink.mdx",sourceDirName:"guides",slug:"/guides/deploy-interlink",permalink:"/interLink/docs/guides/deploy-interlink",draft:!1,unlisted:!1,editUrl:"https://github.com/interlink-hq/interLink/docs/guides/01-deploy-interlink.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Guides",permalink:"/interLink/docs/category/guides"},next:{title:"Develop an interLink plugin",permalink:"/interLink/docs/guides/develop-a-plugin"}},c={},d=[{value:"Requirements",id:"requirements",level:2},{value:"Create an OAuth GitHub app",id:"create-an-oauth-github-app",level:2},{value:"Configuring your virtual kubelet setup (remote host)",id:"configuring-your-virtual-kubelet-setup-remote-host",level:2},{value:"Deploy the interLink core components (remote host)",id:"deploy-the-interlink-core-components-remote-host",level:2},{value:"Attach your favorite plugin or develop one! (remote host)",id:"attach-your-favorite-plugin-or-develop-one-remote-host",level:2},{value:"Remote SLURM job submission",id:"remote-slurm-job-submission",level:3},{value:"Requirements",id:"requirements-1",level:4},{value:"Configuration",id:"configuration",level:4},{value:"Systemd installation",id:"systemd-installation",level:4},{value:"Create UNICORE jobs to run on HPC centers",id:"create-unicore-jobs-to-run-on-hpc-centers",level:3},{value:"Remote docker execution",id:"remote-docker-execution",level:3},{value:"Submit pods to HTcondor or ARC batch systems",id:"submit-pods-to-htcondor-or-arc-batch-systems",level:3},{value:"Remote Kubernetes Plugin",id:"remote-kubernetes-plugin",level:3},{value:"Deploy the interlink Kubernetes Agent (kubeclt host)",id:"deploy-the-interlink-kubernetes-agent-kubeclt-host",level:2},{value:"Test your setup",id:"test-your-setup",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"deploy-interlink-virtual-nodes",children:"Deploy interLink virtual nodes"}),"\n",(0,i.jsxs)(n.p,{children:["Learn how to deploy interLink virtual nodes on your cluster. In this tutorial\nyou are going to setup all the needed components to be able to either\n",(0,i.jsx)(n.strong,{children:"develop"})," or ",(0,i.jsx)(n.strong,{children:"deploy"})," the plugin for container management on a ",(0,i.jsx)(n.strong,{children:"remote"}),"\nhost via a ",(0,i.jsx)(n.strong,{children:"local"})," kubernetes cluster."]}),"\n",(0,i.jsxs)(n.p,{children:["The installation script that we are going to configure will take care of\nproviding you with a complete Kubernetes manifest to instantiate the virtual\nnode interface. Also you will get an installation bash script to be executed on\nthe remote host where you want to delegate your container execution. That script\nis already configured to ",(0,i.jsx)(n.strong,{children:"automatically"})," authenticate the incoming request\nfrom the virtual node component, and forward the correct instructions to the\nopenAPI interface of the ",(0,i.jsx)(n.a,{href:"./api-reference",children:"interLink plugin"})," (a.k.a. sidecar) of\nyour choice. Thus you can use this setup also for directly\n",(0,i.jsx)(n.a,{href:"./develop-a-plugin",children:"developing a plugin"}),", without caring for anything else."]}),"\n",(0,i.jsxs)(n.p,{children:["For a complete guide on all the possible scenarios, please refer to the\n",(0,i.jsx)(n.a,{href:"/docs/category/cookbook",children:"Cookbook"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"kubectl host"}),": an host with MiniKube installed and running"]}),"\n",(0,i.jsx)(n.li,{children:"A GitHub account"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"remote host"}),': A "remote" machine with a port that is reachable by the\nMiniKube host']}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"create-an-oauth-github-app",children:"Create an OAuth GitHub app"}),"\n",(0,i.jsxs)(n.admonition,{title:"In this tutorial GitHub tokens are just an example of authentication",type:"warning",children:[(0,i.jsxs)(n.p,{children:["mechanism, any OpenID compliant identity provider is also supported with the\nvery same deployment script, see ",(0,i.jsx)(n.a,{href:"./oidc-IAM",children:"examples here"}),". :::"]}),(0,i.jsx)(n.p,{children:"As a first step, you need to create a GitHub OAuth application to allow\ninterLink to make authentication between your Kubernetes cluster and the remote\nendpoint."}),(0,i.jsxs)(n.p,{children:["Head to ",(0,i.jsx)(n.a,{href:"https://github.com/settings/apps",children:"https://github.com/settings/apps"})," and\nclick on ",(0,i.jsx)(n.code,{children:"New GitHub App"}),". You should now be looking at a form like this:"]}),(0,i.jsx)(s.Z,{alt:"Docusaurus themed image",sources:{light:(0,o.Z)("/img/github-app-new.png"),dark:(0,o.Z)("/img/github-app-new.png")}}),(0,i.jsxs)(n.p,{children:["Provide a name for the OAuth2 application, e.g. ",(0,i.jsx)(n.code,{children:"interlink-demo-test"}),", and you\ncan skip the description, unless you want to provide one for future reference.\nFor our purpose Homepage reference is also not used, so fill free to put there\n",(0,i.jsx)(n.code,{children:"https://interlink-hq.github.io/interLink/"}),"."]}),(0,i.jsx)(n.p,{children:"Check now that refresh token and device flow authentication:"}),(0,i.jsx)(s.Z,{alt:"Docusaurus themed image",sources:{light:(0,o.Z)("/img/github-app-new2.png"),dark:(0,o.Z)("/img/github-app-new2.png")}}),(0,i.jsxs)(n.p,{children:["Disable webhooks and save clicking on ",(0,i.jsx)(n.code,{children:"Create GitHub App"})]}),(0,i.jsx)(s.Z,{alt:"Docusaurus themed image",sources:{light:(0,o.Z)("/img/github-app-new3.png"),dark:(0,o.Z)("/img/github-app-new3.png")}}),(0,i.jsxs)(n.p,{children:["You can click then on your application that should now appear at\n",(0,i.jsx)(n.a,{href:"https://github.com/settings/apps",children:"https://github.com/settings/apps"})," and you\nneed to save two strings: the ",(0,i.jsx)(n.code,{children:"Client ID"})," and clicking on\n",(0,i.jsx)(n.code,{children:"Generate a new client secret"})," you should be able to note down the relative\n",(0,i.jsx)(n.code,{children:"Client Secret"}),"."]}),(0,i.jsx)(n.p,{children:"Now it's all set for the next steps."}),(0,i.jsx)(n.h2,{id:"configuring-your-virtual-kubelet-setup-remote-host",children:"Configuring your virtual kubelet setup (remote host)"}),(0,i.jsxs)(n.p,{children:["Login into the machine and and download the interLink ",(0,i.jsx)(n.strong,{children:"installer CLI"})," for your\nOS and processor architecture from the\n",(0,i.jsx)(n.a,{href:"https://github.com/interlink-hq/interLink/releases",children:"release page"}),", looking for\nthe binaries starting with ",(0,i.jsx)(n.code,{children:"interlink-installer"}),". For instance, if on a ",(0,i.jsx)(n.code,{children:"Linux"}),"\nplatform with ",(0,i.jsx)(n.code,{children:"x86_64"})," processor:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export VERSION=$(curl -s https://api.github.com/repos/interlink-hq/interlink/releases/latest  | jq -r .name)\nwget -O interlink-installer https://github.com/interlink-hq/interLink/releases/download/$VERSION/interlink-installer_Linux_x86_64\nchmod +x interlink-installer\n"})}),(0,i.jsxs)(n.p,{children:["The CLI offers a utility option to initiate an empty config file for the\ninstallation at ",(0,i.jsx)(n.code,{children:"$HOME/.interlink.yaml"}),":"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./interlink-installer --init\n"})}),(0,i.jsx)(n.p,{children:"You are now ready to go ahead and edit the produced file with all the setup\ninformation."}),(0,i.jsx)(n.p,{children:"Let's take the following as an example of a valid configuration file:"}),(0,i.jsxs)(n.admonition,{title:"see",type:"warning",children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/interlink-hq/interLink/releases",children:"release page"})," to get the\nlatest one! And change the value accordingly! If you follow the steps above,\n",(0,i.jsx)(n.code,{children:"echo $VERSION"})," should be enough to get the correct value. :::"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title="$HOME/.interlink.yaml"',children:'interlink_ip: x.x.x.x\ninterlink_port: 30443\ninterlink_version: 0.3.3\nkubelet_node_name: my-node\nkubernetes_namespace: interlink\nnode_limits:\n  cpu: "10"\n  memory: 256\n  pods: "10"\noauth:\n  provider: github\n  issuer: https://github.com/oauth\n  grant_type: authorization_code\n  scopes:\n    - "read:user"\n  github_user: "dciangot"\n  token_url: "https://github.com/login/oauth/access_token"\n  device_code_url: "https://github.com/login/device/code"\n  client_id: "XXXXXXX"\n  client_secret: "XXXXXXXX"\ninsecure_http: true\n'})}),(0,i.jsx)(n.p,{children:"This config file has the following meaning:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:['the remote components (where the pods will be "offloaded") will listen on the\nip address ',(0,i.jsx)(n.code,{children:"x.x.x.x"})," on the port ",(0,i.jsx)(n.code,{children:"30443"})]}),"\n",(0,i.jsxs)(n.li,{children:["deploy all the components from interlink release 0.3.3 (see\n",(0,i.jsx)(n.a,{href:"https://github.com/interlink-hq/interLink/releases",children:"release page"})," to get the\nlatest one)"]}),"\n",(0,i.jsxs)(n.li,{children:["the virtual node will appear in the cluster under the name ",(0,i.jsx)(n.code,{children:"my-node"})]}),"\n",(0,i.jsxs)(n.li,{children:["the in-cluster components will run under ",(0,i.jsx)(n.code,{children:"interlink"})," namespace"]}),"\n",(0,i.jsxs)(n.li,{children:["the virtual node will show the following static resources availability:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"10 cores"}),"\n",(0,i.jsx)(n.li,{children:"256GiB RAM"}),"\n",(0,i.jsx)(n.li,{children:"a maximum of 10 pods"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["the cluster-to-interlink communication will be authenticated via github\nprovider, with a token with minimum capabilities (scope ",(0,i.jsx)(n.code,{children:"read:user"})," only), and\nonly the tokens for user ",(0,i.jsx)(n.code,{children:"dciangot"})," will be allowed to talk to the interlink\nAPIs"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"token_url"})," and ",(0,i.jsx)(n.code,{children:"device_code_url"})," should be left like that if you use GitHub"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cliend_id"})," and ",(0,i.jsx)(n.code,{children:"client_secret"})," noted down at the beginning of the tutorial"]}),"\n"]}),(0,i.jsx)(n.p,{children:"You are ready now to go ahead generating the needed manifests and script for the\ndeployment."}),(0,i.jsx)(n.h2,{id:"deploy-the-interlink-core-components-remote-host",children:"Deploy the interLink core components (remote host)"}),(0,i.jsx)(n.p,{children:"Login into the machine and generate the manifests and the automatic interlink\ninstallation script with:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./interlink-installer\n"})}),(0,i.jsx)(n.p,{children:"follow the instruction to authenticate with the device code flow and, if\neverything went well, you should get an output like the following:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:'please enter code XXXX-XXXX at https://github.com/login/device\n\n\n=== Deployment file written at:  /Users/dciangot/.interlink/interlink.yaml ===\n\n To deploy the virtual kubelet run:\n    kubectl apply -f /Users/dciangot/.interlink/interlink.yaml\n\n\n=== Installation script for remote interLink APIs stored at: /Users/dciangot/.interlink/interlink-remote.sh ===\n\n  Please execute the script on the remote server: 192.168.1.127\n\n  "./interlink-remote.sh install" followed by "interlink-remote.sh start"\n'})}),(0,i.jsx)(n.p,{children:"Start installing all the needed binaries and configurations:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"chmod +x ./.interlink/interlink-remote.sh\n./.interlink/interlink-remote.sh install\n"})}),(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["By default the script will generate self-signed certificates for your ip\nadrress. If you want to use yours you can place them in\n",(0,i.jsx)(n.code,{children:"~/.interlink/config/tls.{crt,key}"}),"."]})})]})]}),"\n",(0,i.jsx)(n.p,{children:"Now it's time to star the components (namely oauth2_proxy and interlink API\nserver):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./interlink-remote.sh start\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Check that no errors appear in the logs located in ",(0,i.jsx)(n.code,{children:"~/.interlink/logs"}),". You\nshould also start seeing ping requests coming in from your kubernetes cluster."]}),"\n",(0,i.jsx)(n.p,{children:"To stop or restart the components you can use the dedicated commands:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./interlink-remote.sh stop\n./interlink-remote.sh restart\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"N.B."})," you can look the oauth2_proxy configuration parameters looking into the\n",(0,i.jsx)(n.code,{children:"interlink-remote.sh"})," script. ",(0,i.jsx)(n.strong,{children:"N.B."})," logs (expecially if in verbose mode) can\nbecome pretty huge, consider to implement your favorite rotation routine for all\nthe logs in ",(0,i.jsx)(n.code,{children:"~/.interlink/logs/"})]}),"\n",(0,i.jsx)(n.h2,{id:"attach-your-favorite-plugin-or-develop-one-remote-host",children:"Attach your favorite plugin or develop one! (remote host)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"./develop-a-plugin",children:"Next chapter"})," will show the basics for developing a new\nplugin following the interLink openAPI spec."]}),"\n",(0,i.jsx)(n.p,{children:"In alterative you can start an already supported one."}),"\n",(0,i.jsx)(n.h3,{id:"remote-slurm-job-submission",children:"Remote SLURM job submission"}),"\n",(0,i.jsx)(n.admonition,{title:"Note that the SLURM plugin repository is:",type:"warning",children:(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/interlink-hq/interlink-slurm-plugin",children:"github.com/interlink-hq/interlink-slurm-plugin"})})}),"\n",(0,i.jsx)(n.h4,{id:"requirements-1",children:"Requirements"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"a slurm CLI available on the remote host and configured to interact with the\ncomputing cluster"}),"\n",(0,i.jsxs)(n.li,{children:["a sharedFS with all the worker nodes","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"an experimental feature is available for cases in which this is not possible"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Create utility folders"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir -p $HOME/.interlink/logs\nmkdir -p $HOME/.interlink/bin\nmkdir -p $HOME/.interlink/config\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Create a configuration file (",(0,i.jsxs)(n.strong,{children:["remember to substitute ",(0,i.jsx)(n.code,{children:"/home/username/"})," with\nyour actual home path"]}),"):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:'title="./interlink/manifests/plugin-config.yaml"',children:'Socket: "unix:///home/myusername/plugin.sock"\nInterlinkPort: "0"\nSidecarPort: "0"\n\nCommandPrefix: ""\nDataRootFolder: "/home/myusername/.interlink/jobs/"\nBashPath: /bin/bash\nVerboseLogging: false\nErrorsOnlyLogging: false\nSbatchPath: "/usr/bin/sbatch"\nScancelPath: "/usr/bin/scancel"\nSqueuePath: "/usr/bin/squeue"\nSingularityPrefix: ""\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["More on configuration options at\n",(0,i.jsx)(n.a,{href:"https://github.com/interlink-hq/interlink-slurm-plugin/blob/main/README.md",children:"official repo"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"You are almost there! Now it's time to add this virtual node into the Kubernetes\ncluster!"}),"\n",(0,i.jsxs)(n.admonition,{title:"Before going ahead, put the correct DataRootFolder in the example",type:"danger",children:[(0,i.jsxs)(n.p,{children:["above! Don't forget the ",(0,i.jsx)(n.code,{children:"/"})," at the end! :::"]}),(0,i.jsx)(n.h4,{id:"systemd-installation",children:"Systemd installation"}),(0,i.jsx)(n.admonition,{title:"To get the latest version of the plugin, please visit the",type:"warning",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/interlink-hq/interlink-slurm-plugin/releases",children:"release"})," page."]})})]}),"\n",(0,i.jsxs)(n.p,{children:["Download the\n",(0,i.jsx)(n.a,{href:"https://github.com/interlink-hq/interlink-slurm-plugin/releases",children:"latest release"}),"\nbinary in ",(0,i.jsx)(n.code,{children:"$HOME/.interlink/bin/plugin"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export PLUGIN_VERSION=$(curl -s https://api.github.com/repos/interlink-hq/interlink-slurm-plugin/releases/latest  | jq -r .name)\nwget -O $HOME/.interlink/bin/plugin https://github.com/interlink-hq/interlink-slurm-plugin/releases/download/${PLUGIN_VERSION}/interlink-sidecar-slurm_Linux_x86_64\n"})}),"\n",(0,i.jsx)(n.p,{children:"Now you can create a systemd service on the user space with the following:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'mkdir -p $HOME/.config/systemd/user\n\ncat <<EOF > $HOME/.config/systemd/user/slurm-plugin.service\n[Unit]\nDescription=This Unit is needed to automatically start the SLURM plugin at system startup\nAfter=network.target\n\n[Service]\nType=simple\nExecStart=$HOME/.interlink/bin/slurm-plugin\nEnvironment="SLURMCONFIGPATH=$HOME/.interlink/config/slurm.yaml"\nEnvironment="SHARED_FS=true"\nStandardOutput=file:$HOME/.interlink/logs/plugin.log\nStandardError=file:$HOME/.interlink/logs/plugin.log\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsystemctl --user daemon-reload\nsystemctl --user enable slurm-plugin.service\n'})}),"\n",(0,i.jsxs)(n.p,{children:["An eventually starting and monitoring with ",(0,i.jsx)(n.code,{children:"start"})," and ",(0,i.jsx)(n.code,{children:"status"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"systemctl --user start slurm-plugin.service\nsystemctl --user status slurm-plugin.service\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Logs will be stored at ",(0,i.jsx)(n.code,{children:"$HOME/.interlink/logs/plugin.log"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"create-unicore-jobs-to-run-on-hpc-centers",children:"Create UNICORE jobs to run on HPC centers"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://www.unicore.eu/",children:"UNICORE"})," (Uniform Interface to Computing Resources)\noffers a ready-to-run system including client and server software. UNICORE makes\ndistributed computing and data resources available in a seamless and secure way\nin intranets and the internet."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/interlink-hq/interlink-unicore-plugin",children:"UNICORE plugin"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"remote-docker-execution",children:"Remote docker execution"}),"\n",(0,i.jsxs)(n.admonition,{title:"An mantained plugin will come soon... In the meantime you can take a",type:"warning",children:[(0,i.jsxs)(n.p,{children:["look at the ",(0,i.jsx)(n.a,{href:"./develop-a-plugin",children:'"developing a plugin"'})," example. :::"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/interlink-hq/interlink-docker-plugin",children:"Docker plugin repository"})}),"\n"]}),(0,i.jsx)(n.h3,{id:"submit-pods-to-htcondor-or-arc-batch-systems",children:"Submit pods to HTcondor or ARC batch systems"}),(0,i.jsxs)(n.admonition,{title:"Coming soon :::",type:"warning",children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/interlink-hq/interlink-htcondor-plugin",children:"HTCondor plugin repository"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/interlink-hq/interlink-arc-plugin",children:"ARC plugin repository"})}),"\n"]}),(0,i.jsx)(n.h3,{id:"remote-kubernetes-plugin",children:"Remote Kubernetes Plugin"}),(0,i.jsx)(n.p,{children:"InterLink plugin to extend the capabilities of existing Kubernetes clusters,\nenabling them to offload workloads to another remote cluster. The plugin\nsupports the offloading of PODs that expose HTTP endpoints (i.e., HTTP\nMicroservices)."}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://baltig.infn.it/mgattari/interlink-kubernetes-plugin",children:"Interlink Kubernetes Plugin"})}),"\n"]}),(0,i.jsx)(n.h2,{id:"deploy-the-interlink-kubernetes-agent-kubeclt-host",children:"Deploy the interlink Kubernetes Agent (kubeclt host)"}),(0,i.jsxs)(n.p,{children:["You can now install the helm chart with the preconfigured (by the installer\nscript) helm values in ",(0,i.jsx)(n.code,{children:"./interlink/manifests/values.yaml"})]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"  helm upgrade --install \\\n  --create-namespace \\\n  -n interlink \\\n  my-node \\\n  oci://ghcr.io/interlink-hq/interlink-helm-chart/interlink \\\n  --values ./interlink/manifests/values.yaml\n"})}),(0,i.jsxs)(n.p,{children:["You can fix the\n",(0,i.jsx)(n.a,{href:"https://github.com/interlink-hq/interlink-helm-chart/blob/main/interlink/Chart.yaml#L18",children:"version of the chart"}),"\nby using the ",(0,i.jsx)(n.code,{children:"--version"})," option."]}),(0,i.jsxs)(n.p,{children:["Check that the node becomes\n",(0,i.jsx)(n.code,{children:"READY`` after some time, or as soon as you see the pods in namespace"}),"interlink`\nrunning."]}),(0,i.jsx)(n.p,{children:"You are all setup, congratulations! To start debugging in case of problems we\nsuggest starting from the pod containers logs!"}),(0,i.jsx)(n.h2,{id:"test-your-setup",children:"Test your setup"}),(0,i.jsxs)(n.p,{children:["Please find a demo pod to test your setup\n",(0,i.jsx)(n.a,{href:"./develop-a-plugin#lets-test-is-out",children:"here"}),"."]})]})]})]})}function p(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>l,a:()=>o});var i=t(7294);const r={},s=i.createContext(r);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);